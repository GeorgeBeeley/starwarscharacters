import{u as D,r as v,m as R,d as y,c as a,a as n,i as t,t as c,j as u,e as g,F as m,k as f,o,n as S,v as V,b as k}from"./index-0rT-5CBU.js";function C(){const h=R(),s=D(),r=v(),e=v(""),i=v([]),b=v([]),x=v([]);async function p(l){return await(await fetch(l)).json()}const w=async()=>{const l=h.params.id;r.value=s.getCharacter(l),r.value??(r.value=await s.fetchCharacterById(l))},_=async()=>{if(!r.value)throw new Error("Failed to load character.");try{if(r.value.homeworld){const l=await p(r.value.homeworld);e.value=l.name}if(r.value.films.length){const l=await Promise.all(r.value.films.map(p));i.value=l.map(d=>d.title)}if(r.value.vehicles.length){const l=await Promise.all(r.value.vehicles.map(p));b.value=l.map(d=>d.name)}if(r.value.starships.length){const l=await Promise.all(r.value.starships.map(p));x.value=l.map(d=>d.name)}}catch(l){console.error("Failed to fetch character details:",l)}};return w(),_(),{self:r,homeworld:e,films:i,vehicles:b,starships:x}}const B={key:0,class:"text-center py-20 text-2xl font-bold tracking-widest"},F={key:1,class:"max-w-4xl mx-auto bg-black/50 p-10 rounded-2xl shadow-2xl backdrop-blur-md border border-yellow-500"},P={class:"text-5xl font-extrabold mb-10 text-center tracking-wider uppercase"},j={class:"grid grid-cols-1 md:grid-cols-2 gap-8 text-lg leading-relaxed"},E={class:"mt-12"},H={class:"list-none pl-0 space-y-2"},L={key:0,class:"italic text-gray-400"},U={class:"mt-12"},I={class:"list-none pl-0 space-y-2"},M={key:0,class:"italic text-gray-400"},T={class:"mt-12"},G={class:"list-none pl-0 space-y-2"},Y={key:0,class:"italic text-gray-400"},q=y({__name:"CharacterProfile",setup(h){const s=C();return(r,e)=>n(s).self.value?(o(),a("div",F,[t("h1",P,c(n(s).self.value.name),1),t("div",j,[t("div",null,[e[0]||(e[0]=t("span",{class:"font-bold text-white"},"Height:",-1)),u(" "+c(n(s).self.value.height)+" cm ",1)]),t("div",null,[e[1]||(e[1]=t("span",{class:"font-bold text-white"},"Mass:",-1)),u(" "+c(n(s).self.value.mass)+" kg",1)]),t("div",null,[e[2]||(e[2]=t("span",{class:"font-bold text-white"},"Hair Color:",-1)),u(" "+c(n(s).self.value.hair_color),1)]),t("div",null,[e[3]||(e[3]=t("span",{class:"font-bold text-white"},"Skin Color:",-1)),u(" "+c(n(s).self.value.skin_color),1)]),t("div",null,[e[4]||(e[4]=t("span",{class:"font-bold text-white"},"Eye Color:",-1)),u(" "+c(n(s).self.value.eye_color),1)]),t("div",null,[e[5]||(e[5]=t("span",{class:"font-bold text-white"},"Birth Year:",-1)),u(" "+c(n(s).self.value.birth_year),1)]),t("div",null,[e[6]||(e[6]=t("span",{class:"font-bold text-white"},"Gender:",-1)),u(" "+c(n(s).self.value.gender),1)]),t("div",null,[e[7]||(e[7]=t("span",{class:"font-bold text-white"},"Homeworld:",-1)),u(" "+c(n(s).homeworld),1)])]),t("div",E,[e[9]||(e[9]=t("h2",{class:"text-3xl font-semibold mb-6 border-b-2 border-yellow-400 pb-2"},"Films",-1)),t("ul",H,[n(s).films.value.length===0?(o(),a("p",L,"None")):g("",!0),(o(!0),a(m,null,f(n(s).films.value,i=>(o(),a("li",{key:i,class:"flex items-center gap-2"},[e[8]||(e[8]=t("span",{class:"text-yellow-400"},"•",-1)),u(" "+c(i),1)]))),128))])]),t("div",U,[e[11]||(e[11]=t("h2",{class:"text-3xl font-semibold mb-6 border-b-2 border-yellow-400 pb-2"},"Vehicles",-1)),t("ul",I,[n(s).vehicles.value.length===0?(o(),a("p",M,"None")):g("",!0),(o(!0),a(m,null,f(n(s).vehicles.value,i=>(o(),a("li",{key:i,class:"flex items-center gap-2"},[e[10]||(e[10]=t("span",{class:"text-yellow-400"},"•",-1)),u(" "+c(i),1)]))),128))])]),t("div",T,[e[13]||(e[13]=t("h2",{class:"text-3xl font-semibold mb-6 border-b-2 border-yellow-400 pb-2"},"Starships",-1)),t("ul",G,[n(s).starships.value.length===0?(o(),a("p",Y,"None")):g("",!0),(o(!0),a(m,null,f(n(s).starships.value,i=>(o(),a("li",{key:i,class:"flex items-center gap-2"},[e[12]||(e[12]=t("span",{class:"text-yellow-400"},"•",-1)),u(" "+c(i),1)]))),128))])])])):(o(),a("div",B," Loading character... "))}});function $(){return{id:crypto.randomUUID(),comment:"",rating:0}}const z={class:"max-w-4xl mx-auto pt-12"},A=["placeholder"],J={class:"flex flex-row justify-between py-4 px-2"},K={class:"flex flex-row gap-1"},O=["onClick"],Q=["onClick"],W=["disabled"],X={class:"pt-8 pb-4"},Z={class:"text-2xl mb-4"},ee={class:"gap-y-2 flex flex-col-reverse"},te={key:0},se={class:"flex flex-row gap-1"},le={class:"mt-2"},ae=y({__name:"ReviewSection",setup(h){const s=C(),r=v(s.self.value.reviews),e=v($()),i=x=>{e.value.rating=x},b=()=>{s.self.value&&(s.self.value.reviews.push(e.value),e.value=$())};return(x,p)=>{var w,_;return o(),a("div",z,[S(t("textarea",{class:"w-full mx-auto bg-white rounded-3xl p-4 text-black font-bold","onUpdate:modelValue":p[0]||(p[0]=l=>e.value.comment=l),placeholder:`Review ${(w=n(s).self.value)==null?void 0:w.name}...`},null,8,A),[[V,e.value.comment]]),t("div",J,[t("div",K,[(o(!0),a(m,null,f(e.value.rating,(l,d)=>(o(),a("i",{key:d,class:"pi pi-star-fill text-xl text-amber-500 cursor-pointer",onClick:N=>i(l)},null,8,O))),128)),(o(!0),a(m,null,f(5-e.value.rating,(l,d)=>(o(),a("i",{key:d,class:"pi pi-star text-xl text-amber-500 cursor-pointer",onClick:N=>i(e.value.rating+l)},null,8,Q))),128))]),t("button",{class:"bg-amber-400 text-black font-bold rounded px-4 py-2 cursor-pointer",onClick:b,disabled:e.value.comment===""}," Submit ",8,W)]),t("div",X,[t("h2",Z,c((_=n(s).self.value)==null?void 0:_.reviews.length)+" Reviews",1),t("ul",ee,[r.value.length===0?(o(),a("li",te,"Leave the first review!")):g("",!0),(o(!0),a(m,null,f(r.value,l=>(o(),a("li",{key:l.id,class:"border border-amber-400 rounded-2xl p-5 mb-4"},[t("div",se,[(o(!0),a(m,null,f(l.rating,d=>(o(),a("i",{key:d,class:"pi pi-star-fill text-xl text-amber-500"}))),128))]),t("p",le,c(l.comment),1)]))),128))])])])}}}),oe={class:"p-8 text-yellow-400 font-sans w-full"},ne=y({__name:"CharacterView",setup(h){return(s,r)=>(o(),a("div",oe,[k(q),k(ae)]))}});export{ne as default};
